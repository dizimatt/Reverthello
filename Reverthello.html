<!DOCTYPE html>
<html lang="en">
<head>
Â Â Â  <meta charset="UTF-8">
Â Â Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â Â Â  <title>Othello / Reversi Game</title>
Â Â Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.development.js"></script>
Â Â Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.development.js"></script>
Â Â Â  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.22.5/babel.min.js"></script>
Â Â Â  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
Â Â Â  <div id="root"></div>

Â Â Â  <script type="text/babel">
Â Â Â Â Â Â Â  const { useState, useCallback } = React;

Â Â Â Â Â Â Â  const OthelloGame = () => {
Â Â Â Â Â Â Â Â Â  // Initialize 8x8 board with starting position
Â Â Â Â Â Â Â Â Â  const initializeBoard = () => {
Â Â Â Â Â Â Â Â Â Â Â  const board = Array(8).fill(null).map(() => Array(8).fill(null));
Â Â Â Â Â Â Â Â Â Â Â  board[3][3] = 'white';
Â Â Â Â Â Â Â Â Â Â Â  board[3][4] = 'black';
Â Â Â Â Â Â Â Â Â Â Â  board[4][3] = 'black';
Â Â Â Â Â Â Â Â Â Â Â  board[4][4] = 'white';
Â Â Â Â Â Â Â Â Â Â Â  return board;
Â Â Â Â Â Â Â Â Â  };

Â Â Â Â Â Â Â Â Â  const [board, setBoard] = useState(initializeBoard);
Â Â Â Â Â Â Â Â Â  const [currentPlayer, setCurrentPlayer] = useState('black'); // Black goes first
Â Â Â Â Â Â Â Â Â  const [validMoves, setValidMoves] = useState([]);
Â Â Â Â Â Â Â Â Â  const [gameOver, setGameOver] = useState(false);
Â Â Â Â Â Â Â Â Â  const [scores, setScores] = useState({ black: 2, white: 2 });
Â Â Â Â Â Â Â Â Â  const [apiKey, setApiKey] = useState('');
Â Â Â Â Â Â Â Â Â  const [useAI, setUseAI] = useState(false);
Â Â Â Â Â Â Â Â Â  const [aiThinking, setAiThinking] = useState(false);
Â Â Â Â Â Â Â Â Â  const [aiStatus, setAiStatus] = useState('disconnected'); // 'disconnected', 'connecting', 'connected', 'error'
Â Â Â Â Â Â Â Â Â  const [aiError, setAiError] = useState('');
Â Â Â Â Â Â Â Â Â  const [difficulty, setDifficulty] = useState('medium'); // 'easy', 'medium', 'hard', 'expert'

Â Â Â Â Â Â Â Â Â  // Directions for checking adjacent cells
Â Â Â Â Â Â Â Â Â  const directions = [
Â Â Â Â Â Â Â Â Â Â Â  [-1, -1], [-1, 0], [-1, 1],
Â Â Â Â Â Â Â Â Â Â Â  [0, -1],Â Â Â Â Â Â Â Â Â Â  [0, 1],
Â Â Â Â Â Â Â Â Â Â Â  [1, -1],Â  [1, 0],Â  [1, 1]
Â Â Â Â Â Â Â Â Â  ];

Â Â Â Â Â Â Â Â Â  // Check if a move is valid and return pieces to flip
Â Â Â Â Â Â Â Â Â  const checkMove = useCallback((board, row, col, player) => {
Â Â Â Â Â Â Â Â Â Â Â  if (board[row][col] !== null) return [];
Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â  const opponent = player === 'black' ? 'white' : 'black';
Â Â Â Â Â Â Â Â Â Â Â  const piecesToFlip = [];

Â Â Â Â Â Â Â Â Â Â Â  for (const [dr, dc] of directions) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  const currentFlip = [];
Â Â Â Â Â Â Â Â Â Â Â Â Â  let r = row + dr;
Â Â Â Â Â Â Â Â Â Â Â Â Â  let c = col + dc;

Â Â Â Â Â Â Â Â Â Â Â Â Â  // Check if we can capture in this direction
Â Â Â Â Â Â Â Â Â Â Â Â Â  while (r >= 0 && r < 8 && c >= 0 && c < 8 && board[r][c] === opponent) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  currentFlip.push([r, c]);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  r += dr;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  c += dc;
Â Â Â Â Â Â Â Â Â Â Â Â Â  }

Â Â Â Â Â Â Â Â Â Â Â Â Â  // If we found opponent pieces and ended with our piece, this direction is valid
Â Â Â Â Â Â Â Â Â Â Â Â Â  if (currentFlip.length > 0 && r >= 0 && r < 8 && c >= 0 && c < 8 && board[r][c] === player) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  piecesToFlip.push(...currentFlip);
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  }

Â Â Â Â Â Â Â Â Â Â Â  return piecesToFlip;
Â Â Â Â Â Â Â Â Â  }, []);

Â Â Â Â Â Â Â Â Â  // Find all valid moves for current player
Â Â Â Â Â Â Â Â Â  const findValidMoves = useCallback((board, player) => {
Â Â Â Â Â Â Â Â Â Â Â  const moves = [];
Â Â Â Â Â Â Â Â Â Â Â  for (let row = 0; row < 8; row++) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  for (let col = 0; col < 8; col++) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (checkMove(board, row, col, player).length > 0) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  moves.push([row, col]);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  return moves;
Â Â Â Â Â Â Â Â Â  }, [checkMove]);

Â Â Â Â Â Â Â Â Â  // Calculate scores
Â Â Â Â Â Â Â Â Â  const calculateScores = useCallback((board) => {
Â Â Â Â Â Â Â Â Â Â Â  let black = 0, white = 0;
Â Â Â Â Â Â Â Â Â Â Â  for (let row = 0; row < 8; row++) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  for (let col = 0; col < 8; col++) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (board[row][col] === 'black') black++;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  else if (board[row][col] === 'white') white++;
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  return { black, white };
Â Â Â Â Â Â Â Â Â  }, []);

Â Â Â Â Â Â Â Â Â  // Test API connection
Â Â Â Â Â Â Â Â Â  const testAPIConnection = useCallback(async () => {
Â Â Â Â Â Â Â Â Â Â Â  if (!apiKey) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiStatus('disconnected');
Â Â Â Â Â Â Â Â Â Â Â Â Â  return;
Â Â Â Â Â Â Â Â Â Â Â  }

Â Â Â Â Â Â Â Â Â Â Â  setAiStatus('connecting');
Â Â Â Â Â Â Â Â Â Â Â  setAiError('');

Â Â Â Â Â Â Â Â Â Â Â  try {
Â Â Â Â Â Â Â Â Â Â Â Â Â  const response = await fetch('https://api.anthropic.com/v1/messages', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  method: 'POST',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  headers: {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  'Content-Type': 'application/json',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  'x-api-key': apiKey,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  'anthropic-version': '2023-06-01'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  body: JSON.stringify({
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  model: 'claude-3-haiku-20240307',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  max_tokens: 10,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  messages: [{
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  role: 'user',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  content: 'Test connection - just respond "OK"'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  })
Â Â Â Â Â Â Â Â Â Â Â Â Â  });

Â Â Â Â Â Â Â Â Â Â Â Â Â  if (response.ok) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiStatus('connected');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiError('');
Â Â Â Â Â Â Â Â Â Â Â Â Â  } else {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const errorData = await response.json().catch(() => ({}));
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiStatus('error');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiError(errorData.error?.message || `HTTP ${response.status}: ${response.statusText}`);
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  } catch (error) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiStatus('error');
Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiError(error.message || 'Connection failed');
Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â  }, [apiKey]);

Â Â Â Â Â Â Â Â Â  // Make a move (for both human and AI)
Â Â Â Â Â Â Â Â Â  const makeMove = useCallback((row, col, player) => {
Â Â Â Â Â Â Â Â Â Â Â  const piecesToFlip = checkMove(board, row, col, player);
Â Â Â Â Â Â Â Â Â Â Â  if (piecesToFlip.length === 0) return false;

Â Â Â Â Â Â Â Â Â Â Â  // Make the move
Â Â Â Â Â Â Â Â Â Â Â  const newBoard = board.map(r => [...r]);
Â Â Â Â Â Â Â Â Â Â Â  newBoard[row][col] = player;
Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â  // Flip captured pieces
Â Â Â Â Â Â Â Â Â Â Â  piecesToFlip.forEach(([r, c]) => {
Â Â Â Â Â Â Â Â Â Â Â Â Â  newBoard[r][c] = player;
Â Â Â Â Â Â Â Â Â Â Â  });

Â Â Â Â Â Â Â Â Â Â Â  setBoard(newBoard);
Â Â Â Â Â Â Â Â Â Â Â  setCurrentPlayer(player === 'black' ? 'white' : 'black');
Â Â Â Â Â Â Â Â Â Â Â  return true;
Â Â Â Â Â Â Â Â Â  }, [board, checkMove]);

Â Â Â Â Â Â Â Â Â  // Simple AI with difficulty levels
Â Â Â Â Â Â Â Â Â  const makeSimpleAIMove = useCallback(() => {
Â Â Â Â Â Â Â Â Â Â Â  const moves = findValidMoves(board, 'white');
Â Â Â Â Â Â Â Â Â Â Â  if (moves.length === 0) return;

Â Â Â Â Â Â Â Â Â Â Â  let bestMove = null;

Â Â Â Â Â Â Â Â Â Â Â  if (difficulty === 'easy') {
Â Â Â Â Â Â Â Â Â Â Â Â Â  // Easy: Random move with slight preference for corners
Â Â Â Â Â Â Â Â Â Â Â Â Â  const cornerMoves = moves.filter(([r, c]) => (r === 0 || r === 7) && (c === 0 || c === 7));
Â Â Â Â Â Â Â Â Â Â Â Â Â  if (cornerMoves.length > 0 && Math.random() < 0.7) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  bestMove = cornerMoves[Math.floor(Math.random() * cornerMoves.length)];
Â Â Â Â Â Â Â Â Â Â Â Â Â  } else {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  bestMove = moves[Math.floor(Math.random() * moves.length)];
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  } else if (difficulty === 'medium') {
Â Â Â Â Â Â Â Â Â Â Â Â Â  // Medium: Basic strategy - corners > edges > captures
Â Â Â Â Â Â Â Â Â Â Â Â Â  let bestScore = -1;
Â Â Â Â Â Â Â Â Â Â Â Â Â  for (const [row, col] of moves) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  let score = checkMove(board, row, col, 'white').length;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if ((row === 0 || row === 7) && (col === 0 || col === 7)) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  score += 10; // Corner bonus
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  } else if (row === 0 || row === 7 || col === 0 || col === 7) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  score += 2; // Edge bonus
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (score > bestScore) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  bestScore = score;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  bestMove = [row, col];
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  } else if (difficulty === 'hard') {
Â Â Â Â Â Â Â Â Â Â Â Â Â  // Hard: Advanced strategy with mobility and stability
Â Â Â Â Â Â Â Â Â Â Â Â Â  let bestScore = -1000;
Â Â Â Â Â Â Â Â Â Â Â Â Â  for (const [row, col] of moves) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  let score = 0;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // Simulate the move
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const newBoard = board.map(r => [...r]);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const flipped = checkMove(board, row, col, 'white');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  newBoard[row][col] = 'white';
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  flipped.forEach(([r, c]) => newBoard[r][c] = 'white');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // Material count
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  score += flipped.length;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // Corner control (very important)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if ((row === 0 || row === 7) && (col === 0 || col === 7)) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  score += 50;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // Avoid giving opponent corners
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const adjacentToCorner = [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  [0,1], [1,0], [1,1], // near (0,0)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  [0,6], [1,6], [1,7], // near (0,7)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  [6,0], [6,1], [7,1], // near (7,0)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  [6,6], [6,7], [7,6]Â  // near (7,7)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ];
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (adjacentToCorner.some(([r, c]) => r === row && c === col)) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  score -= 20;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // Mobility: count opponent's future moves
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const opponentMoves = findValidMoves(newBoard, 'black');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  score -= opponentMoves.length * 2;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // Edge stability
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (row === 0 || row === 7 || col === 0 || col === 7) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  score += 5;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (score > bestScore) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  bestScore = score;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  bestMove = [row, col];
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  }

Â Â Â Â Â Â Â Â Â Â Â  if (bestMove) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  setTimeout(() => {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  makeMove(bestMove[0], bestMove[1], 'white');
Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 1000);
Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â  }, [board, findValidMoves, checkMove, makeMove, difficulty]);

Â Â Â Â Â Â Â Â Â  // AI move using Claude API
Â Â Â Â Â Â Â Â Â  const makeAIMove = useCallback(async () => {
Â Â Â Â Â Â Â Â Â Â Â  // Expert difficulty requires Claude AI
Â Â Â Â Â Â Â Â Â Â Â  if (difficulty === 'expert' && (!useAI || !apiKey || aiStatus !== 'connected')) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  console.log('Expert difficulty requires Claude AI - falling back to hard difficulty');
Â Â Â Â Â Â Â Â Â Â Â Â Â  // Temporarily use hard difficulty logic
Â Â Â Â Â Â Â Â Â Â Â Â Â  const moves = findValidMoves(board, 'white');
Â Â Â Â Â Â Â Â Â Â Â Â Â  if (moves.length === 0) return;

Â Â Â Â Â Â Â Â Â Â Â Â Â  let bestMove = null;
Â Â Â Â Â Â Â Â Â Â Â Â Â  let bestScore = -1000;
Â Â Â Â Â Â Â Â Â Â Â Â Â  for (const [row, col] of moves) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  let score = 0;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const newBoard = board.map(r => [...r]);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const flipped = checkMove(board, row, col, 'white');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  newBoard[row][col] = 'white';
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  flipped.forEach(([r, c]) => newBoard[r][c] = 'white');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  score += flipped.length;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if ((row === 0 || row === 7) && (col === 0 || col === 7)) score += 50;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const adjacentToCorner = [[0,1], [1,0], [1,1], [0,6], [1,6], [1,7], [6,0], [6,1], [7,1], [6,6], [6,7], [7,6]];
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (adjacentToCorner.some(([r, c]) => r === row && c === col)) score -= 20;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const opponentMoves = findValidMoves(newBoard, 'black');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  score -= opponentMoves.length * 2;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (row === 0 || row === 7 || col === 0 || col === 7) score += 5;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (score > bestScore) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  bestScore = score;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  bestMove = [row, col];
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â  if (bestMove) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setTimeout(() => makeMove(bestMove[0], bestMove[1], 'white'), 1000);
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â  return;
Â Â Â Â Â Â Â Â Â Â Â  }

Â Â Â Â Â Â Â Â Â Â Â  if (!useAI || !apiKey || aiStatus !== 'connected') {
Â Â Â Â Â Â Â Â Â Â Â Â Â  // Fallback to simple AI
Â Â Â Â Â Â Â Â Â Â Â Â Â  makeSimpleAIMove();
Â Â Â Â Â Â Â Â Â Â Â Â Â  return;
Â Â Â Â Â Â Â Â Â Â Â  }

Â Â Â Â Â Â Â Â Â Â Â  const moves = findValidMoves(board, 'white');
Â Â Â Â Â Â Â Â Â Â Â  if (moves.length === 0) return;

Â Â Â Â Â Â Â Â Â Â Â  setAiThinking(true);

Â Â Â Â Â Â Â Â Â Â Â  try {
Â Â Â Â Â Â Â Â Â Â Â Â Â  // Convert board to string representation
Â Â Â Â Â Â Â Â Â Â Â Â Â  const boardStr = board.map((row, i) => 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  row.map((cell, j) => {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (cell === 'black') return 'B';
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (cell === 'white') return 'W';
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  return '.';
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }).join(' ')
Â Â Â Â Â Â Â Â Â Â Â Â Â  ).join('\n');

Â Â Â Â Â Â Â Â Â Â Â Â Â  const validMovesStr = moves.map(([r, c]) => `(${r},${c})`).join(', ');

Â Â Â Â Â Â Â Â Â Â Â Â Â  const prompt = `You are playing Othello/Reversi as White at ${difficulty} difficulty level. Analyze this board position and choose the best move.

Current board (B=Black, W=White, .=Empty):
${boardStr}

Your valid moves: ${validMovesStr}

Difficulty level: ${difficulty}
${difficulty === 'easy' ? '- Play more casually, prioritize immediate captures' :
Â  difficulty === 'medium' ? '- Balance immediate gains with basic strategy' :
Â  difficulty === 'hard' ? '- Use advanced strategy, consider mobility and stability' :
Â  '- Play at expert level with deep strategic thinking'}

Consider:
- Corner control (positions 0,0 / 0,7 / 7,0 / 7,7)
- Edge control and stability
- Mobility (limiting opponent's options)
- Avoiding moves that give opponent corners
- Current material advantage
${difficulty === 'hard' || difficulty === 'expert' ? '- Long-term positional advantages' : ''}

Respond with just the coordinates in format: row,col (e.g., "3,2")`;

Â Â Â Â Â Â Â Â Â Â Â Â Â  const response = await fetch('https://api.anthropic.com/v1/messages', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  method: 'POST',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  headers: {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  'Content-Type': 'application/json',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  'x-api-key': apiKey,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  'anthropic-version': '2023-06-01'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  },
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  body: JSON.stringify({
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  model: 'claude-3-haiku-20240307',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  max_tokens: 50,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  messages: [{
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  role: 'user',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  content: prompt
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }]
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  })
Â Â Â Â Â Â Â Â Â Â Â Â Â  });

Â Â Â Â Â Â Â Â Â Â Â Â Â  if (!response.ok) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const errorData = await response.json().catch(() => ({}));
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiStatus('error');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiError(errorData.error?.message || `HTTP ${response.status}`);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  throw new Error(`API Error: ${response.status}`);
Â Â Â Â Â Â Â Â Â Â Â Â Â  }

Â Â Â Â Â Â Â Â Â Â Â Â Â  const data = await response.json();
Â Â Â Â Â Â Â Â Â Â Â Â Â  const moveText = data.content[0].text.trim();
Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â  // Parse the move
Â Â Â Â Â Â Â Â Â Â Â Â Â  const match = moveText.match(/(\d+),(\d+)/);
Â Â Â Â Â Â Â Â Â Â Â Â Â  if (match) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const row = parseInt(match[1]);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const col = parseInt(match[2]);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // Validate the move
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  if (moves.some(([r, c]) => r === row && c === col)) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setTimeout(() => {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  makeMove(row, col, 'white');
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiThinking(false);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 500);
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  return;
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â  // Fallback if parsing failed
Â Â Â Â Â Â Â Â Â Â Â Â Â  console.log('Move parsing failed, using simple AI');
Â Â Â Â Â Â Â Â Â Â Â Â Â  makeSimpleAIMove();
Â Â Â Â Â Â Â Â Â Â Â  } catch (error) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  console.error('AI move failed:', error);
Â Â Â Â Â Â Â Â Â Â Â Â Â  makeSimpleAIMove();
Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â  setAiThinking(false);
Â Â Â Â Â Â Â Â Â  }, [board, findValidMoves, makeMove, apiKey, useAI, aiStatus, makeSimpleAIMove, difficulty]);

Â Â Â Â Â Â Â Â Â  // Handle cell click (human moves only)
Â Â Â Â Â Â Â Â Â  const handleCellClick = (row, col) => {
Â Â Â Â Â Â Â Â Â Â Â  if (gameOver || currentPlayer !== 'black') return;
Â Â Â Â Â Â Â Â Â Â Â  makeMove(row, col, 'black');
Â Â Â Â Â Â Â Â Â  };

Â Â Â Â Â Â Â Â Â  // Reset game
Â Â Â Â Â Â Â Â Â  const resetGame = () => {
Â Â Â Â Â Â Â Â Â Â Â  setBoard(initializeBoard());
Â Â Â Â Â Â Â Â Â Â Â  setCurrentPlayer('black');
Â Â Â Â Â Â Â Â Â Â Â  setGameOver(false);
Â Â Â Â Â Â Â Â Â Â Â  setValidMoves([]);
Â Â Â Â Â Â Â Â Â Â Â  setScores({ black: 2, white: 2 });
Â Â Â Â Â Â Â Â Â Â Â  setAiThinking(false);
Â Â Â Â Â Â Â Â Â Â Â  setAiError('');
Â Â Â Â Â Â Â Â Â  };

Â Â Â Â Â Â Â Â Â  // Check if a cell is a valid move
Â Â Â Â Â Â Â Â Â  const isValidMove = (row, col) => {
Â Â Â Â Â Â Â Â Â Â Â  return validMoves.some(([r, c]) => r === row && c === col);
Â Â Â Â Â Â Â Â Â  };

Â Â Â Â Â Â Â Â Â  // Status indicator component
Â Â Â Â Â Â Â Â Â  const StatusIndicator = ({ status, error }) => {
Â Â Â Â Â Â Â Â Â Â Â  const statusConfig = {
Â Â Â Â Â Â Â Â Â Â Â Â Â  disconnected: { color: 'text-gray-500', bg: 'bg-gray-100', icon: 'âšª', text: 'Disconnected' },
Â Â Â Â Â Â Â Â Â Â Â Â Â  connecting: { color: 'text-yellow-600', bg: 'bg-yellow-100', icon: 'ðŸ”„', text: 'Connecting...' },
Â Â Â Â Â Â Â Â Â Â Â Â Â  connected: { color: 'text-green-600', bg: 'bg-green-100', icon: 'âœ…', text: 'Connected' },
Â Â Â Â Â Â Â Â Â Â Â Â Â  error: { color: 'text-red-600', bg: 'bg-red-100', icon: 'âŒ', text: 'Error' }
Â Â Â Â Â Â Â Â Â Â Â  };

Â Â Â Â Â Â Â Â Â Â Â  const config = statusConfig[status] || statusConfig.disconnected;

Â Â Â Â Â Â Â Â Â Â Â  return React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â  className: `flex items-center gap-2 px-3 py-2 rounded-lg ${config.bg}`
Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('span', { className: 'text-sm', key: 'icon' }, config.icon),
Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', { className: 'flex-1', key: 'content' }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: `text-sm font-semibold ${config.color}`,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'text'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, `Claude AI: ${config.text}`),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  error && React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'text-xs text-red-500 mt-1 break-words',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'error'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, error)
Â Â Â Â Â Â Â Â Â Â Â Â Â  ])
Â Â Â Â Â Â Â Â Â Â Â  ]);
Â Â Â Â Â Â Â Â Â  };

Â Â Â Â Â Â Â Â Â  // Update valid moves when board or player changes
Â Â Â Â Â Â Â Â Â  React.useEffect(() => {
Â Â Â Â Â Â Â Â Â Â Â  const moves = findValidMoves(board, currentPlayer);
Â Â Â Â Â Â Â Â Â Â Â  setValidMoves(moves);
Â Â Â Â Â Â Â Â Â Â Â  setScores(calculateScores(board));

Â Â Â Â Â Â Â Â Â Â Â  // Check if game is over
Â Â Â Â Â Â Â Â Â Â Â  if (moves.length === 0) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  const opponentMoves = findValidMoves(board, currentPlayer === 'black' ? 'white' : 'black');
Â Â Â Â Â Â Â Â Â Â Â Â Â  if (opponentMoves.length === 0) {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setGameOver(true);
Â Â Â Â Â Â Â Â Â Â Â Â Â  } else {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // Current player has no moves, switch to opponent
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  setCurrentPlayer(currentPlayer === 'black' ? 'white' : 'black');
Â Â Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â Â Â  } else if (currentPlayer === 'white' && !gameOver) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  // Auto-play AI moves - do this here to avoid duplicate effects
Â Â Â Â Â Â Â Â Â Â Â Â Â  makeAIMove();
Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â  }, [board, currentPlayer, findValidMoves, calculateScores, gameOver, makeAIMove]);

Â Â Â Â Â Â Â Â Â  // Test connection when API key changes
Â Â Â Â Â Â Â Â Â  React.useEffect(() => {
Â Â Â Â Â Â Â Â Â Â Â  if (useAI && apiKey) {
Â Â Â Â Â Â Â Â Â Â Â Â Â  const timeoutId = setTimeout(testAPIConnection, 500); // Debounce API calls
Â Â Â Â Â Â Â Â Â Â Â Â Â  return () => clearTimeout(timeoutId);
Â Â Â Â Â Â Â Â Â Â Â  } else {
Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiStatus('disconnected');
Â Â Â Â Â Â Â Â Â Â Â Â Â  setAiError('');
Â Â Â Â Â Â Â Â Â Â Â  }
Â Â Â Â Â Â Â Â Â  }, [apiKey, useAI, testAPIConnection]);

Â Â Â Â Â Â Â Â Â  return (
Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'flex flex-col items-center p-6 bg-green-800 min-h-screen'
Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('h1', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'text-3xl font-bold text-white mb-6',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'title'
Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'Othello / Reversi'),
Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â  // AI Controls
Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'bg-white p-4 rounded-lg mb-4 shadow-lg w-full max-w-md',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'ai-controls'
Â Â Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', { className: 'mb-3', key: 'ai-toggle' }, 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('label', { className: 'flex items-center gap-2', key: 'ai-label' }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('input', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  type: 'checkbox',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  checked: useAI,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  onChange: (e) => setUseAI(e.target.checked),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'w-4 h-4',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'checkbox'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('span', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'font-semibold',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'label'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'Use Claude AI (requires API key)')
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ])
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ),

Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // Difficulty Selection
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', { className: 'mb-3', key: 'difficulty' }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('label', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'block text-sm font-semibold mb-2',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'diff-label'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'Difficulty Level:'),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('select', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  value: difficulty,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  onChange: (e) => setDifficulty(e.target.value),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'diff-select'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('option', { value: 'easy', key: 'easy' }, 'ðŸŸ¢ Easy - Random moves with slight strategy'),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('option', { value: 'medium', key: 'medium' }, 'ðŸŸ¡ Medium - Basic corner and edge strategy'),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('option', { value: 'hard', key: 'hard' }, 'ðŸ”´ Hard - Advanced strategy with mobility'),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('option', { value: 'expert', key: 'expert' }, 'âš« Expert - Claude AI only (requires API key)')
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ]),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  (difficulty === 'expert' && !useAI) ? React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'text-sm text-orange-600 mt-1',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'expert-warning'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'Expert difficulty requires Claude AI to be enabled') : null
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ]),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  useAI ? React.createElement('div', { className: 'space-y-3', key: 'ai-settings' }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', { key: 'api-input' }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('input', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  type: 'password',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  placeholder: 'Enter your Anthropic API key',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  value: apiKey,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  onChange: (e) => setApiKey(e.target.value),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'input'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'text-xs text-gray-500 mt-1',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'help'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'Your API key is only used locally and not stored')
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ]),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement(StatusIndicator, {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  status: aiStatus,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  error: aiError,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'status'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  })
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ]) : null,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  aiThinking ? React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'text-center text-blue-600 font-semibold mt-3',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'thinking'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'ðŸ¤” Claude is thinking...') : null
Â Â Â Â Â Â Â Â Â Â Â Â Â  ]),

Â Â Â Â Â Â Â Â Â Â Â Â Â  // Game Info
Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'bg-white p-4 rounded-lg mb-4 shadow-lg',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'game-info'
Â Â Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'flex items-center gap-6 mb-2',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'scores'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'flex items-center gap-2',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'black-score'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'w-6 h-6 bg-black rounded-full border-2 border-gray-400',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'black-piece'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('span', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'font-semibold',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'black-text'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, `Black: ${scores.black}`)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ]),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'flex items-center gap-2',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'white-score'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'w-6 h-6 bg-white rounded-full border-2 border-gray-400',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'white-piece'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('span', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'font-semibold',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'white-text'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, `White: ${scores.white}`)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ])
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ]),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  !gameOver ? React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'text-center',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'turn-info'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('span', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'font-semibold',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'turn-label'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'Current turn: '),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('span', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: `font-bold ${currentPlayer === 'black' ? 'text-black' : 'text-gray-600'}`,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'current-player'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, currentPlayer.charAt(0).toUpperCase() + currentPlayer.slice(1)),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  (currentPlayer === 'black') ? React.createElement('span', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'text-sm text-gray-600 ml-2',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'you'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, '(You)') : null,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  (currentPlayer === 'white' && !useAI) ? React.createElement('span', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'text-sm text-gray-600 ml-2',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'ai-simple'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, `(${difficulty.charAt(0).toUpperCase() + difficulty.slice(1)} AI)`) : null,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  (currentPlayer === 'white' && useAI) ? React.createElement('span', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'text-sm text-gray-600 ml-2',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'ai-claude'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, `(Claude AI - ${difficulty.charAt(0).toUpperCase() + difficulty.slice(1)})`) : null
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ]) : React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'text-center',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'game-over'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'font-bold text-lg mb-2',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'game-over-text'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'Game Over!'),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'font-semibold',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'winner'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, scores.black > scores.white ? 'Black Wins!' : 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  scores.white > scores.black ? 'White Wins!' : 'Tie Game!')
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ])
Â Â Â Â Â Â Â Â Â Â Â Â Â  ]),

Â Â Â Â Â Â Â Â Â Â Â Â Â  // Game Board
Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'grid grid-cols-8 gap-1 bg-black p-2 rounded-lg shadow-2xl',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'board'
Â Â Â Â Â Â Â Â Â Â Â Â Â  }, board.flatMap((row, rowIndex) =>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  row.map((cell, colIndex) => (
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: `cell-${rowIndex}-${colIndex}`,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'w-12 h-12 bg-green-600 border border-green-700 flex items-center justify-center cursor-pointer hover:bg-green-500',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  onClick: () => handleCellClick(rowIndex, colIndex)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  cell ? React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: `w-10 h-10 rounded-full border-2 border-gray-400 shadow-lg ${cell === 'black' ? 'bg-black' : 'bg-white'}`,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'piece'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }) : null
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  )
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  ))
Â Â Â Â Â Â Â Â Â Â Â Â Â  )),

Â Â Â Â Â Â Â Â Â Â Â Â Â  // Controls
Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('button', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  onClick: resetGame,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'reset'
Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'New Game'),

Â Â Â Â Â Â Â Â Â Â Â Â Â  // Instructions
Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('div', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'mt-4 text-white text-sm max-w-md text-center',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'instructions'
Â Â Â Â Â Â Â Â Â Â Â Â Â  }, [
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('p', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  className: 'mb-2',
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'inst1'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'You are Black and go first. Click on any empty square to attempt your move.'),
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  React.createElement('p', {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  key: 'inst2'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  }, 'Capture your opponent\'s pieces by placing your piece so that opponent pieces are trapped between your pieces in any direction (horizontal, vertical, or diagonal).')
Â Â Â Â Â Â Â Â Â Â Â Â Â  ])
Â Â Â Â Â Â Â Â Â Â Â  ])
Â Â Â Â Â Â Â Â Â  );
Â Â Â Â Â Â Â  };

Â Â Â Â Â Â Â  const root = ReactDOM.createRoot(document.getElementById('root'));
Â Â Â Â Â Â Â  root.render(React.createElement(OthelloGame));
Â Â Â  </script>
</body>
</html>

